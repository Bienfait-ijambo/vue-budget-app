import{s as h,a as U}from"./toastnotification-Bjh8Hj8x.js";import{a as b}from"./makeHttpReq-DbGmgVk1.js";import{k as d,d as f,o as s,c as r,e as t,F as p,i as g,t as c,g as v,n as k,a as y}from"./index-B8ZSdwpR.js";import{c as D}from"./sweetAlert-CsK_ir1n.js";import"./App-Cr4Cy-db.js";function A(){const a=d(!1),o=d({});async function l(){try{a.value=!0;const n=await b("check_user/accounts","GET");o.value=n,a.value=!1}catch(n){h(n.message),a.value=!1}}return{getCheckUserAccountData:l,serverData:o,loading:a}}const C={class:"table table-bordered table-hover table-striped"},O=t("thead",null,[t("tr",null,[t("td",null,"ID"),t("td",null,"Name"),t("td",null,"Email"),t("td",null,"Pricing"),t("td",null,"Amount"),t("td",null,"Payment Term"),t("td",null,"StartDate"),t("td",null,"EndDate"),t("td",null,"Left Days"),t("td",null,"Status"),t("td",null,"Block user")])],-1),w=["onClick"],B=f({__name:"CustomerTable",props:{checkUserAccountData:{}},emits:["blockOrUnblockUser"],setup(a,{emit:o}){const l=o;return(n,i)=>(s(),r("table",C,[O,t("tbody",null,[(s(!0),r(p,null,g(n.checkUserAccountData,e=>(s(),r("tr",{key:e.id},[t("td",null,c(e.id),1),t("td",null,c(e.name),1),t("td",null,c(e.email),1),t("td",null,c(e.pricing),1),t("td",null,c(e.amount)+" USD",1),t("td",null,c(e.payment_term),1),t("td",null,c(e.start_date),1),t("td",null,c(e.end_date),1),t("td",null,c(e.leftDays),1),t("td",null,c(e.account_status),1),t("td",null,[t("button",{onClick:u=>l("blockOrUnblockUser",e),class:"btn btn-warning btn-sm"},c(e.account_status==="Active"?"Block":"Unblock"),9,w)])]))),128))])]))}});function E(){const a=d(!1);async function o(l){try{a.value=!0;const n=await b("change_user/accounts","POST",{userId:l});a.value=!1,U(n.message)}catch(n){h(n.message),a.value=!1}}return{blockOrUnblockUser:o,loading:a}}const S={class:"container"},$={class:"row"},P=t("h3",null,"Customers",-1),T={class:"col-md-12"},L={key:0},N={key:1},q=f({__name:"CustomerPage",setup(a){const{serverData:o,loading:l,getCheckUserAccountData:n}=A(),{blockOrUnblockUser:i}=E();async function e(u){D("do you want to block or unblock user ?").then(async()=>{await i(u==null?void 0:u.user_id),n()}).catch(_=>console.log(_))}return v(async()=>{n()}),(u,_)=>{var m;return s(),r("div",S,[t("div",$,[P,t("div",T,[k(l)?(s(),r("div",L,"Loading....")):(s(),r("div",N,[y(B,{onBlockOrUnblockUser:e,checkUserAccountData:(m=k(o))==null?void 0:m.data},null,8,["checkUserAccountData"])]))])])])}}});export{q as default};
