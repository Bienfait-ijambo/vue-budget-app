import{d as b,o as s,c as r,e,t as g,F as h,h as k,b as x,m as w,f as v,i as y,j as $,r as p,a as d,w as _,k as S,n as B,T as D,l as C,p as N}from"./index-D2ziipwj.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{g as L}from"./auth-BICLTMCl.js";import{a as M,b as I,s as V}from"./makeHttpReq-ep6UpiE5.js";import"./App-BkH2lvXh.js";const j="/assets/avatar-BqGUsuG1.webp",E={id:"sidebarMenu",style:{"background-color":"white"},class:"col-md-3 col-lg-2 d-md-block sidebar collapse"},P={class:"position-sticky pt-3"},R={align:"center"},q=e("img",{src:j,id:"user-avatar",width:"50"},null,-1),A={href:"#"},F=e("br",null,null,-1),G=e("h6",{class:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",{style:{color:"red"}},"Menu"),e("a",{class:"link-secondary",href:"#","aria-label":"Add a new report"},[e("span",{"data-feather":"plus-circle"})])],-1),H={class:"nav flex-column","tested-ul":""},U=e("a",{class:"nav-link"},[e("i",{class:"bi bi-box-arrow-right"}),v(" Logout ")],-1),z=[U],O=b({__name:"NavBar",props:{navigation:{},userData:{}},emits:["logout"],setup(m,{emit:u}){const t=u;return(i,o)=>{var a,n;return s(),r("nav",E,[e("div",P,[e("div",R,[q,e("a",A,g((n=(a=i.userData)==null?void 0:a.user)==null?void 0:n.email),1)]),F,G,e("ul",H,[(s(!0),r(h,null,k(i.navigation,l=>(s(),r("li",{class:"nav-item",key:l.name},[x(i.$slots,"navigation",w({ref_for:!0},{nav:l}))]))),128)),e("li",{"tested-logout":"btn",class:"nav-item",style:{cursor:"pointer"},onClick:o[0]||(o[0]=l=>t("logout"))},z)])])])}}}),J={},K={class:"navbar sticky-top bg-dark flex-md-nowrap p-0 shadow","data-bs-theme":"dark"},Q=e("a",{"tested-appname":"app",class:"navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6 text-white",href:"#"},"Budget tracker",-1),W=y('<ul class="navbar-nav flex-row d-md-none"><li class="nav-item text-nowrap"><button class="nav-link px-3 text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSearch" aria-controls="navbarSearch" aria-expanded="false" aria-label="Toggle search"><svg class="bi"><use xlink:href="#search"></use></svg></button></li><li class="nav-item text-nowrap"><button class="nav-link px-3 text-white" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation"><svg class="bi"><use xlink:href="#list"></use></svg></button></li></ul><div id="navbarSearch" class="navbar-search w-100 collapse"><input class="form-control w-100 rounded-0 border-0" type="text" placeholder="Search" aria-label="Search"></div>',2),X=[Q,W];function Y(m,u){return s(),r("header",K,X)}const Z=T(J,[["render",Y]]),ee={class:"container-fluid"},ae={class:"row"},se={class:"col-md-9 ms-sm-auto col-lg-10 bg-pages"},te=e("br",null,null,-1),oe=e("br",null,null,-1),de=b({__name:"AdminPage",setup(m){const u=$([{name:"Dashboard",link:"/dashboard",icon:"bi bi-wrench-adjustable"},{name:"Income & Expenses",link:"/create_income_or_expenses",icon:"bi bi-piggy-bank"},{name:"pricings",link:"/pricings",icon:"bi bi-coin"}]),t=L();async function i(){var o;try{const a=parseInt((o=t==null?void 0:t.user)==null?void 0:o.userId),n=await M("logout","POST",{userId:a});window.location.href="/",localStorage.clear(),I(n.message)}catch(a){V(a.message)}}return(o,a)=>{const n=p("RouterLink"),l=p("router-view");return s(),r(h,null,[d(Z),e("div",ee,[e("div",ae,[d(O,{onLogout:i,navigation:u.value,userData:S(t)},{navigation:_(({nav:c})=>[d(n,{class:"nav-link",to:c.link,exact:""},{default:_(()=>[e("i",{class:B(c.icon)},null,2),v(" "+g(c.name),1)]),_:2},1032,["to"])]),_:1},8,["navigation","userData"]),e("main",se,[te,oe,d(l,null,{default:_(({Component:c,route:f})=>[d(D,{name:"fade",mode:"out-in"},{default:_(()=>[(s(),r("div",{key:f.name},[(s(),C(N(c)))]))]),_:2},1024)]),_:1})])])])],64)}}});export{de as default};
